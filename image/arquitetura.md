# ğŸ—ï¸ Arquitetura da Infraestrutura - NextJob API

## ğŸ“Š Diagrama Completo da Infraestrutura Azure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              GITHUB REPOSITORY                                   â”‚
â”‚                          GS_Next_Job_DevOps (main branch)                        â”‚
â”‚                                                                                   â”‚
â”‚  â”œâ”€â”€ src/                    (CÃ³digo Java + Spring Boot)                         â”‚
â”‚  â”œâ”€â”€ Dockerfile              (Multi-stage build)                                 â”‚
â”‚  â”œâ”€â”€ build.gradle            (DependÃªncias e build)                              â”‚
â”‚  â”œâ”€â”€ azure-pipelines.yml     (Pipeline CI/CD)                                    â”‚
â”‚  â”œâ”€â”€ setup.sh                (Provisionamento Azure)                             â”‚
â”‚  â””â”€â”€ delete.sh               (Limpeza de recursos)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ Push to main (Webhook)
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AZURE DEVOPS PIPELINE                                   â”‚
â”‚                           (CI/CD Automatizado)                                   â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                       STAGE 1: BUILD (CI)                                  â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  JOB 1: Gradle Build                                             â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  1. Checkout cÃ³digo do GitHub                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  2. Configurar cache do Gradle                                   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  3. Setup Java 21 JDK                                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  4. ./gradlew build -x test --build-cache                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  5. Copiar JAR para staging directory                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  6. Publicar artefato: nextjobApp                                â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  JOB 2: Build & Push Docker Image                                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  1. Login no ACR: az acr login --name acrnextjob                 â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  2. Build imagem Docker:                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     docker build -t acrnextjob.azurecr.io/appnextjob:latest .    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     docker build -t acrnextjob.azurecr.io/appnextjob:{BuildId} . â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  3. Push imagens para ACR:                                       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     docker push acrnextjob.azurecr.io/appnextjob:latest          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     docker push acrnextjob.azurecr.io/appnextjob:{BuildId}       â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                       STAGE 2: DEPLOY (CD)                                 â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  JOB: Deploy to Azure Container Instances                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  1. Definir subscription Azure                                   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  2. Obter credenciais do ACR                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  3. Deletar container anterior (se existir)                      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  4. Aguardar 15 segundos para cleanup                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  5. Criar ACI da aplicaÃ§Ã£o:                                      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     - Nome: aci-app-nextjob-rm555197                             â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     - Imagem do ACR: appnextjob:latest                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     - CPU: 1 core, Memory: 1.5 GB                                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     - Injetar variÃ¡veis de ambiente                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚     - Expor porta 8080 com DNS pÃºblico                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  6. Verificar estado do container                                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  7. Obter FQDN pÃºblico                                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  8. Exibir URL da aplicaÃ§Ã£o                                      â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ Push Images
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AZURE CLOUD PLATFORM                                    â”‚
â”‚                       Resource Group: rg-nextjob (East US)                       â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          AZURE CONTAINER REGISTRY (ACR)                                    â”‚  â”‚
â”‚  â”‚          acrnextjob.azurecr.io                                             â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Repository: appnextjob                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ Tag: latest                                                 â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€ Tag: {build-id} (unique per build)                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Repository: postgres                                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€ Tag: 17-alpine                                             â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  CaracterÃ­sticas:                                                          â”‚  â”‚
â”‚  â”‚  - SKU: Basic                                                              â”‚  â”‚
â”‚  â”‚  - Admin user habilitado                                                   â”‚  â”‚
â”‚  â”‚  - Registro privado                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                             â”‚
â”‚                                    â”‚ Pull Images                                 â”‚
â”‚                                    â–¼                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     AZURE CONTAINER INSTANCES - APPLICATION                                â”‚  â”‚
â”‚  â”‚     aci-app-nextjob-rm555197                                               â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Container Configuration                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Image: acrnextjob.azurecr.io/appnextjob:latest                 â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  CPU: 1 core                                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Memory: 1.5 GB                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  OS: Linux                                                       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Restart Policy: Always                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Network:                                                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - IP Address: Public                                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Port: 8080                                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - DNS: aci-app-nextjob-rm555197.eastus.azurecontainer.io       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Environment Variables:                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - SPRING_DATASOURCE_URL                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - SPRING_DATASOURCE_USERNAME                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - SPRING_DATASOURCE_PASSWORD (secure)                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - SPRING_JPA_HIBERNATE_DDL_AUTO=validate                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - SPRING_FLYWAY_ENABLED=true                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - GROQ_API_KEY                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - GROQ_API_URL                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - GROQ_MODEL=llama-3.3-70b-versatile                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - GITHUB_CLIENT_ID                                              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - GITHUB_CLIENT_SECRET (secure)                                 â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                             â”‚
â”‚                                    â”‚ JDBC Connection                             â”‚
â”‚                                    â”‚ (TCP 5432)                                  â”‚
â”‚                                    â–¼                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     AZURE CONTAINER INSTANCES - DATABASE                                   â”‚  â”‚
â”‚  â”‚     aci-db-nextjob-rm555197                                                â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Container Configuration                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Image: acrnextjob.azurecr.io/postgres:17-alpine                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  CPU: 1 core                                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Memory: 2 GB                                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  OS: Linux                                                       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Restart Policy: Always                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Network:                                                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - IP Address: Public                                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Port: 5432                                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - DNS: aci-db-nextjob-rm555197.eastus.azurecontainer.io        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Environment Variables:                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - POSTGRES_DB=nextjob                                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - POSTGRES_USER=nextjob                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - POSTGRES_PASSWORD=nextjob                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Storage:                                                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - Volume: postgres_data (persistent)                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                                  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Database Tables (Flyway Migrations):                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - usuario                                                       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - curriculo                                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - analise                                                       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - perfil                                                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - plano                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  - flyway_schema_history                                         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚       SERVIÃ‡OS EXTERNOS                â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚                                        â”‚
                    â”‚  ğŸ¤– Groq API                           â”‚
                    â”‚     api.groq.com                       â”‚
                    â”‚     Modelo: LLaMA 3.3 70B              â”‚
                    â”‚     (AnÃ¡lise de currÃ­culos com IA)     â”‚
                    â”‚                                        â”‚
                    â”‚  ğŸ” GitHub OAuth2                      â”‚
                    â”‚     github.com/login/oauth             â”‚
                    â”‚     (AutenticaÃ§Ã£o social)              â”‚
                    â”‚                                        â”‚
                    â”‚  ğŸ“Š Spring Actuator Endpoints          â”‚
                    â”‚     /actuator/health                   â”‚
                    â”‚     /actuator/prometheus               â”‚
                    â”‚     (Monitoramento e mÃ©tricas)         â”‚
                    â”‚                                        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo do Script setup.sh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXECUÃ‡ÃƒO DO SCRIPT setup.sh                              â”‚
â”‚                    Provisionamento AutomÃ¡tico da Infraestrutura                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASSO 1: Criar Resource Group
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ az group create \                                    â”‚
â”‚   --name rg-nextjob \                                â”‚
â”‚   --location eastus                                  â”‚
â”‚                                                      â”‚
â”‚ âœ… Resource Group criado                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 2: Criar Azure Container Registry
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ az acr create \                                      â”‚
â”‚   --resource-group rg-nextjob \                      â”‚
â”‚   --name acrnextjob \                                â”‚
â”‚   --sku Basic \                                      â”‚
â”‚   --location eastus                                  â”‚
â”‚                                                      â”‚
â”‚ âœ… ACR criado: acrnextjob.azurecr.io                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 3: Habilitar Admin User no ACR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ az acr update \                                      â”‚
â”‚   --name acrnextjob \                                â”‚
â”‚   --admin-enabled true                               â”‚
â”‚                                                      â”‚
â”‚ âœ… Admin user habilitado                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 4: Login no ACR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ az acr login --name acrnextjob                       â”‚
â”‚                                                      â”‚
â”‚ âœ… Login realizado com sucesso                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 5: Importar Imagem PostgreSQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ docker pull postgres:17-alpine                       â”‚
â”‚ docker tag postgres:17-alpine \                      â”‚
â”‚   acrnextjob.azurecr.io/postgres:17-alpine           â”‚
â”‚ docker push \                                        â”‚
â”‚   acrnextjob.azurecr.io/postgres:17-alpine           â”‚
â”‚                                                      â”‚
â”‚ âœ… Imagem PostgreSQL importada para ACR              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 6: Obter Credenciais do ACR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ACR_USERNAME=$(az acr credential show \              â”‚
â”‚   -n acrnextjob --query username -o tsv)             â”‚
â”‚                                                      â”‚
â”‚ ACR_PASSWORD=$(az acr credential show \              â”‚
â”‚   -n acrnextjob \                                    â”‚
â”‚   --query "passwords[0].value" -o tsv)               â”‚
â”‚                                                      â”‚
â”‚ âœ… Credenciais obtidas                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 7: Limpar Container Anterior (se existir)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ az container delete \                                â”‚
â”‚   --resource-group rg-nextjob \                      â”‚
â”‚   --name aci-db-nextjob-rm555197 \                   â”‚
â”‚   --yes                                              â”‚
â”‚                                                      â”‚
â”‚ sleep 5                                              â”‚
â”‚                                                      â”‚
â”‚ âœ… Container anterior removido                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 8: Criar Container do Banco de Dados
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ az container create \                                â”‚
â”‚   --resource-group rg-nextjob \                      â”‚
â”‚   --name aci-db-nextjob-rm555197 \                   â”‚
â”‚   --image acrnextjob.azurecr.io/postgres:17-alpine \ â”‚
â”‚   --cpu 1 --memory 2 \                               â”‚
â”‚   --registry-login-server acrnextjob.azurecr.io \    â”‚
â”‚   --registry-username $ACR_USERNAME \                â”‚
â”‚   --registry-password $ACR_PASSWORD \                â”‚
â”‚   --environment-variables \                          â”‚
â”‚     POSTGRES_PASSWORD=nextjob \                      â”‚
â”‚     POSTGRES_DB=nextjob \                            â”‚
â”‚     POSTGRES_USER=nextjob \                          â”‚
â”‚   --ports 5432 \                                     â”‚
â”‚   --os-type Linux \                                  â”‚
â”‚   --dns-name-label aci-db-nextjob-rm555197 \         â”‚
â”‚   --location eastus \                                â”‚
â”‚   --restart-policy Always                            â”‚
â”‚                                                      â”‚
â”‚ âœ… Container PostgreSQL criado e rodando             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
PASSO 9: Obter URL PÃºblica do Banco
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DB_FQDN=$(az container show \                        â”‚
â”‚   --resource-group rg-nextjob \                      â”‚
â”‚   --name aci-db-nextjob-rm555197 \                   â”‚
â”‚   --query ipAddress.fqdn -o tsv)                     â”‚
â”‚                                                      â”‚
â”‚ âœ… URL: aci-db-nextjob-rm555197.eastus...io:5432     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        âœ… INFRAESTRUTURA PROVISIONADA COM SUCESSO! âœ…
        
ğŸŒ Database URL: 
   aci-db-nextjob-rm555197.eastus.azurecontainer.io:5432
   
ğŸ“¦ Recursos Criados:
   - Resource Group: rg-nextjob
   - Container Registry: acrnextjob
   - ACI Database: aci-db-nextjob-rm555197
   
ğŸ”„ PrÃ³ximo Passo: Execute o pipeline para deploy da aplicaÃ§Ã£o
```

---

## ğŸ”„ Fluxo Completo: Setup + Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FLUXO COMPLETO DE PROVISIONAMENTO E DEPLOY                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  DESENVOLVEDOR
    â”‚
    â”œâ”€â–¶ Executa localmente: bash setup.sh
    â”‚   â””â”€â–¶ Provisiona infraestrutura Azure
    â”‚       â”œâ”€â–¶ Resource Group
    â”‚       â”œâ”€â–¶ Azure Container Registry
    â”‚       â””â”€â–¶ Azure Container Instance (Database)
    â”‚
    â–¼

2ï¸âƒ£  DESENVOLVEDOR
    â”‚
    â”œâ”€â–¶ Faz push do cÃ³digo para GitHub (branch main)
    â”‚
    â–¼

3ï¸âƒ£  AZURE DEVOPS PIPELINE (AutomÃ¡tico)
    â”‚
    â”œâ”€â–¶ STAGE 1: Build
    â”‚   â”œâ”€â–¶ Compila cÃ³digo Java com Gradle
    â”‚   â”œâ”€â–¶ Gera arquivo JAR
    â”‚   â”œâ”€â–¶ ConstrÃ³i imagem Docker
    â”‚   â””â”€â–¶ Envia imagem para ACR
    â”‚
    â”œâ”€â–¶ STAGE 2: Deploy
    â”‚   â”œâ”€â–¶ Remove container anterior (se existir)
    â”‚   â”œâ”€â–¶ Cria novo ACI com aplicaÃ§Ã£o
    â”‚   â”œâ”€â–¶ Configura variÃ¡veis de ambiente
    â”‚   â”œâ”€â–¶ Conecta ao banco de dados
    â”‚   â””â”€â–¶ ExpÃµe aplicaÃ§Ã£o com DNS pÃºblico
    â”‚
    â–¼

4ï¸âƒ£  APLICAÃ‡ÃƒO RODANDO
    â”‚
    â””â”€â–¶ ğŸŒ http://aci-app-nextjob-rm555197.eastus.azurecontainer.io:8080
        â””â”€â–¶ Conectada ao PostgreSQL
            â””â”€â–¶ Integrada com Groq API
                â””â”€â–¶ OAuth2 GitHub configurado


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            LIMPEZA COM delete.sh                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                   â”‚
â”‚  bash delete.sh                                                                  â”‚
â”‚                                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ az group delete --name rg-nextjob --yes                                 â”‚    â”‚
â”‚  â”‚                                                                         â”‚    â”‚
â”‚  â”‚ Remove TODOS os recursos:                                              â”‚    â”‚
â”‚  â”‚ âœ… Azure Container Registry (acrnextjob)                                â”‚    â”‚
â”‚  â”‚ âœ… ACI Database (aci-db-nextjob-rm555197)                               â”‚    â”‚
â”‚  â”‚ âœ… ACI Application (aci-app-nextjob-rm555197)                           â”‚    â”‚
â”‚  â”‚ âœ… ConfiguraÃ§Ãµes de rede e DNS                                          â”‚    â”‚
â”‚  â”‚ âœ… Todos os dados armazenados                                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                   â”‚
â”‚  âš ï¸  ATENÃ‡ÃƒO: OperaÃ§Ã£o irreversÃ­vel!                                             â”‚
â”‚                                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š VisÃ£o Geral dos Recursos Azure

| Recurso | Nome | Tipo | LocalizaÃ§Ã£o | FunÃ§Ã£o |
|---------|------|------|-------------|--------|
| **Resource Group** | `rg-nextjob` | Resource Group | East US | Container lÃ³gico para todos os recursos |
| **Container Registry** | `acrnextjob` | ACR | East US | Armazena imagens Docker (app + postgres) |
| **Database Container** | `aci-db-nextjob-rm555197` | ACI | East US | Executa PostgreSQL 17 Alpine |
| **App Container** | `aci-app-nextjob-rm555197` | ACI | East US | Executa aplicaÃ§Ã£o Spring Boot |

### URLs PÃºblicas:
- **AplicaÃ§Ã£o**: `http://aci-app-nextjob-rm555197.eastus.azurecontainer.io:8080`
- **Database**: `aci-db-nextjob-rm555197.eastus.azurecontainer.io:5432`
- **Health Check**: `http://aci-app-nextjob-rm555197.eastus.azurecontainer.io:8080/actuator/health`

---

**Diagrama criado para:** NextJob API - Infraestrutura Azure  
**Scripts:** setup.sh + azure-pipelines.yml  
**Autor:** RM 555197  
**Data:** Novembro 2025
